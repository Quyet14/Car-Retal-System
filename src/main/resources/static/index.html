<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Rental System - Há»‡ thá»‘ng thuÃª xe</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1>ğŸš— Car Rental</h1>
            </div>
            <div class="nav-menu" id="navMenu">
                <a href="/index.html" class="nav-link active">Trang chá»§</a>
                <a href="/cars/cars.html" class="nav-link">Xe cho thuÃª</a>
                <a href="#about" class="nav-link">Giá»›i thiá»‡u</a>
                <a href="#contact" class="nav-link">LiÃªn há»‡</a>
            </div>
            <div class="nav-auth" id="navAuth">
                <a href="/auth/login.html" class="btn btn-outline">ÄÄƒng nháº­p</a>
                <a href="/auth/register.html" class="btn btn-primary">ÄÄƒng kÃ½</a>
            </div>
            <div class="nav-user" id="navUser" style="display: none;">
                <a href="/admin/dashboard.html" class="nav-link" id="adminLink" style="display: none;">Admin Panel</a>
                <a href="/profile/profile.html" class="user-name" id="userName"></a>
                <button class="btn btn-outline" onclick="logout()">ÄÄƒng xuáº¥t</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">ThuÃª xe dá»… dÃ ng, lÃ¡i xe thoáº£i mÃ¡i</h1>
                <p class="hero-subtitle">HÆ¡n 1000+ xe cháº¥t lÆ°á»£ng cao sáºµn sÃ ng phá»¥c vá»¥ báº¡n</p>
                <div class="hero-search">
                    <input type="text" placeholder="TÃ¬m kiáº¿m xe..." class="search-input">
                    <a href="/cars/cars.html" class="btn btn-primary btn-lg">Xem táº¥t cáº£ xe</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="section">
        <div class="container">
            <h2 class="section-title">Dá»‹ch vá»¥ cá»§a chÃºng tÃ´i</h2>
            <div class="about-content">
                <div class="about-card">
                    <div class="about-icon">ğŸš—</div>
                    <h3>Äa dáº¡ng xe</h3>
                    <p>HÆ¡n 1000+ xe tá»« phá»• thÃ´ng Ä‘áº¿n cao cáº¥p</p>
                    <a href="/cars/cars.html" class="btn btn-outline" style="margin-top: 1rem;">Xem xe</a>
                </div>
                <div class="about-card">
                    <div class="about-icon">ğŸ“±</div>
                    <h3>Äáº·t xe dá»… dÃ ng</h3>
                    <p>ÄÄƒng kÃ½ vÃ  thuÃª xe chá»‰ trong vÃ i phÃºt</p>
                    <a href="/cars/cars.html" class="btn btn-outline" style="margin-top: 1rem;" id="bookCarBtn">Äáº·t xe ngay</a>
                </div>
                <div class="about-card">
                    <div class="about-icon">ğŸ‘¤</div>
                    <h3>Quáº£n lÃ½ tÃ i khoáº£n</h3>
                    <p>Theo dÃµi lá»‹ch sá»­ thuÃª xe vÃ  thÃ´ng tin cÃ¡ nhÃ¢n</p>
                    <a href="/profile/profile.html" class="btn btn-outline" style="margin-top: 1rem;" id="profileBtn">TÃ i khoáº£n</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section bg-light">
        <div class="container">
            <h2 class="section-title">Vá» chÃºng tÃ´i</h2>
            <div class="about-content">
                <div class="about-card">
                    <div class="about-icon">ğŸš—</div>
                    <h3>1000+ Xe</h3>
                    <p>Äa dáº¡ng cÃ¡c loáº¡i xe tá»« phá»• thÃ´ng Ä‘áº¿n cao cáº¥p</p>
                </div>
                <div class="about-card">
                    <div class="about-icon">â­</div>
                    <h3>Cháº¥t lÆ°á»£ng</h3>
                    <p>Xe Ä‘Æ°á»£c báº£o dÆ°á»¡ng Ä‘á»‹nh ká»³, Ä‘áº£m báº£o an toÃ n</p>
                </div>
                <div class="about-card">
                    <div class="about-icon">ğŸ’°</div>
                    <h3>GiÃ¡ tá»‘t</h3>
                    <p>GiÃ¡ cáº£ cáº¡nh tranh, nhiá»u Æ°u Ä‘Ã£i háº¥p dáº«n</p>
                </div>
                <div class="about-card">
                    <div class="about-icon">ğŸ”’</div>
                    <h3>An toÃ n</h3>
                    <p>Báº£o hiá»ƒm toÃ n diá»‡n, há»— trá»£ 24/7</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="container">
            <h2 class="section-title">LiÃªn há»‡</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>ThÃ´ng tin liÃªn há»‡</h3>
                    <p>ğŸ“ Äá»‹a chá»‰: 364 Ä. Cá»™ng HÃ²a, PhÆ°á»ng 13, TÃ¢n BÃ¬nh, TP.HCM</p>
                    <p>ğŸ“ Äiá»‡n thoáº¡i: 1900 xxxx</p>
                    <p>ğŸ“§ Email: contact@carrental.vn</p>
                </div>
                <div class="contact-form">
                    <h3>Gá»­i tin nháº¯n</h3>
                    <input type="text" placeholder="Há» tÃªn" class="form-input">
                    <input type="email" placeholder="Email" class="form-input">
                    <textarea placeholder="Ná»™i dung" class="form-textarea"></textarea>
                    <button class="btn btn-primary">Gá»­i</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Car Rental System. All rights reserved.</p>
            <p><a href="/admin/dashboard.html" style="color: rgba(255,255,255,0.7);">Admin Panel</a></p>
        </div>
    </footer>

    <script>
        // Check authentication status v2
        document.addEventListener('DOMContentLoaded', () => {
            const currentUser = localStorage.getItem('currentUser');
            const navAuth = document.getElementById('navAuth');
            const navUser = document.getElementById('navUser');
            const userName = document.getElementById('userName');
            const profileBtn = document.getElementById('profileBtn');
            const adminLink = document.getElementById('adminLink');

            if (currentUser) {
                try {
                    const user = JSON.parse(currentUser);
                    // Update navigation
                    navAuth.style.display = 'none';
                    navUser.style.display = 'flex';
                    userName.textContent = `${user.firstName} ${user.lastName}`;
                    
                    // Show admin link if user is admin
                    if (user.roles && user.roles.includes('Admin')) {
                        adminLink.style.display = 'block';
                    }
                    
                    // Update profile button
                    if (profileBtn) {
                        profileBtn.textContent = 'Xem tÃ i khoáº£n';
                        profileBtn.href = '/profile/profile.html';
                    }
                } catch (e) {
                    console.error('Error parsing user data:', e);
                }
            } else {
                navAuth.style.display = 'flex';
                navUser.style.display = 'none';
                
                // Update profile button for non-logged in users
                if (profileBtn) {
                    profileBtn.textContent = 'ÄÄƒng nháº­p';
                    profileBtn.href = '/auth/login.html';
                }
            }
        });

        function logout() {
            fetch('/api/auth/logout', {
                credentials: 'include'
            }).finally(() => {
                localStorage.removeItem('currentUser');
                window.location.reload();
            });
        }
    </script>
</body>
</html>
